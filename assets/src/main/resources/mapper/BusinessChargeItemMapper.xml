<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dili.assets.mapper.BusinessChargeItemMapper">
  <resultMap id="BaseResultMap" type="com.dili.assets.domain.BusinessChargeItem">
    <!--
      WARNING - @mbg.generated
    -->
    <id column="id"  property="id" />
    <result column="market_id"  property="marketId" />
    <result column="business_type"  property="businessType" />
    <result column="charge_item"  property="chargeItem" />
    <result column="is_enable"  property="isEnable" />
    <result column="is_delete"  property="isDelete" />
    <result column="notes"  property="notes" />
    <result column="operator_id"  property="operatorId" />
    <result column="create_time"  property="createTime" />
    <result column="modify_time"  property="modifyTime" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
    -->
    id, market_id, business_type, charge_item, is_enable, is_delete, notes, operator_id, create_time,
    modify_time
  </sql>

  <select id="listItemByMarketAndBusiness" parameterType="hashmap" resultType="com.dili.assets.domain.ChargeItem">
    SELECT ci.*
        FROM
    charge_item ci
        LEFT JOIN business_charge_item bci ON bci.charge_item = ci.id
    WHERE bci.market_id = #{marketId} AND bci.business_type = #{businessType}
    <if test="null != isEnable">
      AND bci.is_enable = #{isEnable} AND ci.is_enable = #{isEnable}
    </if>
    <if test="null != isDelete">
      AND bci.is_delete = #{isDelete} AND ci.is_delete = #{isDelete}
    </if>
  </select>

</mapper>